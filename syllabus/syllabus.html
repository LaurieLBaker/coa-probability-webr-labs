<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Laurie Baker">

<title>Probability Course Syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="syllabus_files/libs/clipboard/clipboard.min.js"></script>
<script src="syllabus_files/libs/quarto-html/quarto.js"></script>
<script src="syllabus_files/libs/quarto-html/popper.min.js"></script>
<script src="syllabus_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="syllabus_files/libs/quarto-html/anchor.min.js"></script>
<link href="syllabus_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="syllabus_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="syllabus_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="syllabus_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="syllabus_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Probability Course Syllabus</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Laurie Baker </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="course-description" class="level2">
<h2 class="anchored" data-anchor-id="course-description">Course description</h2>
<p>Probability is the branch of mathematics that deals with the likelihood of events occurring. It provides the theoretical foundation for making predictions about the behavior of random phenomena. Statistics uses this framework to analyze real-world data, make inferences, and draw conclusions. Probability theory can help us to make informed decisions whether it’s assessing risks, making choices based on potential outcomes, or understanding the likelihood of events. This course will introduce students to probability and random variables through real-world examples with an emphasis on developing probabilistic intuition through simulation. Topics covered include discrete and continuous random variables, probability spaces, densities and distributions, independence, joint and conditional distributions, expectation, and concepts including Bayes’ theorem, the central limit theorem and the law of large numbers.</p>
<p>This course will equip students with the tools and understanding to pursue more advanced studies in probability and related fields such as statistics and data science. Students’ learning will be assessed through weekly problem sets and a final take-home exam.</p>
<section id="additional-course-info" class="level3">
<h3 class="anchored" data-anchor-id="additional-course-info">Additional Course Info</h3>
<ul>
<li><strong>Meets the following requirements:</strong> QR</li>
<li><strong>Prerequisites:</strong> Calculus 1 or equivalent (e.g.&nbsp;AP Calculus, IB Calculus). Students unsure if they have the right background are warmly invited to contact the instructors.</li>
<li><strong>Level:</strong> Introductory/Intermediate</li>
<li><strong>Course limit:</strong> 12</li>
<li><strong>Lab fee:</strong> No lab fee</li>
</ul>
</section>
</section>
<section id="course-materials-required" class="level2">
<h2 class="anchored" data-anchor-id="course-materials-required">Course Materials required:</h2>
<ul>
<li>I will post the required readings and/or videos to Google Classroom.</li>
</ul>
<section id="technology" class="level3">
<h3 class="anchored" data-anchor-id="technology">Technology:</h3>
<ul>
<li><p>Bring a laptop to every class. Although we will not be using the computer each day we will use R periodically to assist us with some of the probability concepts.</p></li>
<li><p>If you are in need of a term long loaner laptop, please contact the IT department at <a href="mailto:helpdesk@coa.edu">helpdesk@coa.edu</a>. Mention that you are taking a data science class, and pick up the laptop in A&amp;S right by the whale skull.</p></li>
</ul>
</section>
</section>
<section id="course-components" class="level2">
<h2 class="anchored" data-anchor-id="course-components">Course components</h2>
<section id="weekly-structure" class="level3">
<h3 class="anchored" data-anchor-id="weekly-structure">Weekly structure</h3>
<p>This class takes a flipped classroom approach which means that there will be materials to review before class (readings or videos) and during class we will review concepts and be working on hands-on activities and problem sets. It is important to come prepared to class having reviewed the material assigned.</p>
<p>The class will meet for 55 minutes on Tuesday and Friday from 13:00-13:55 and Wednesday from 10:35-11:30. The remaining 25 minutes of the course time block will be open for help.</p>
<p>In addition to the 2 hours and 45 minutes of scheduled class time every week, I expect that between readings, going over notes, and doing assignments you will spend at least an additional 12 hours and fifteen minutes a week on this course, for a total of at least 150 hours over the term devoted to this class.</p>
</section>
<section id="getting-help" class="level3">
<h3 class="anchored" data-anchor-id="getting-help">Getting Help</h3>
<p><strong>What if I need help?</strong> First, I expect you to make a good-faith effort whenever tackling a new problem. While there is no single best answer to “How long should I spend trying to solve a problem before asking a question?” five minutes is too little and five hours is way too long. There are several mechanisms where you can and should ask for help:</p>
<section id="help-sessions" class="level4">
<h4 class="anchored" data-anchor-id="help-sessions"><strong>Help sessions</strong></h4>
<p>Help sessions will be offered each week in the 25 minutes after class and in a handful of help sessions every week (time TBD). You are warmly invited and encouraged to attend these sessions. Help sessions are relaxed, informal, and hopefully fun. Things that happen at help sessions:</p>
<ol type="1">
<li>I am around to offer help on your problem sets or to clarify concepts.</li>
<li>Some students do most of the assignment while at a help session. They work through problems alone or with others, and find it comforting to know that help is at hand if needed.</li>
<li>Others do the problems at home and come to the help session with specific questions.</li>
<li>Help sessions are also a chance to ask general questions about the course.</li>
<li>Help sessions are a great way to meet other students in the class.</li>
</ol>
<p>Everyone is welcome at help sessions! Attending these sessions help students do well in class and get as much out of it as possible.</p>
<p>The help sessions for this term will be in <strong>CHE 202</strong> immediately after class and at dates and times TBD.</p>
</section>
<section id="google-classroom-question-forum" class="level4">
<h4 class="anchored" data-anchor-id="google-classroom-question-forum"><a href="https://classroom.google.com/">Google Classroom Question Forum</a></h4>
<p>The question forum on google classroom will be used for online Q&amp;A and collaborative discussion. You can post questions and answers can be posted by the instructor and/or other students. Please check google classroom to see whether a question has already been asked/answered before starting a new post. However, instead of sharing code on google classroom, describe the issue or post the error message - if we need to troubleshoot outside google classroom, I will let you know!</p>
<p>I will make an effort to check the question forum every day during the week to answer any questions. I will check the board on Monday to answer any questions posted over the weekend.</p>
<p>Attendance to class is important as you will be working on problem sets and other hands-on activities in class individually and in teams. If you have to miss class for any reason, it is your responsibility to reach out to me over email and also check Google Classroom and catch up on any missed work.</p>
</section>
</section>
<section id="take-home-final-exam" class="level3">
<h3 class="anchored" data-anchor-id="take-home-final-exam">Take home final exam</h3>
<p>There will be a take-home final exam due in week 10. You may use your notes from class and outside resources barring the use of Generative AI.</p>
</section>
</section>
<section id="grades" class="level2">
<h2 class="anchored" data-anchor-id="grades">Grades:</h2>
<p>A growing body of research indicates that traditional approaches to grading fail to produce the sorts of meaningful learning desired by both teachers and students. Such approaches often reinforce inequitable power dynamics between teachers and students, promote faulty reward systems that disincentive creativity and risk-taking, and devalue important aspects of learning (including revision and feedback). Given this context, instead of a traditional approach to grading in which you do work that is evaluated singularly by me, this course assumes that you opt to take ownership and responsibility over your performance and engagement with the class. To make this happen, this course uses a “contract grading” scheme, which gives you a voice in the grading process, provides you with the agency to specify your intended course performance, and also share in the responsibility for evaluating whether or not you fulfilled your intended obligations. Please see the contract grading document (on <a href="https://classroom.google.com/">Google Classroom</a>) for a more-fleshed-out explanation of this approach and how it will operate in the course.</p>
<p>The work in this course will be comprised of the following components and their weights:</p>
<ul>
<li>Weekly problem sets approximately 70%</li>
<li>Final take home exam approximately 15%</li>
<li>Attendance (Participation, Engagement, and Leadership) in all aspects of the course approximately 15%</li>
</ul>
</section>
<section id="policies" class="level2">
<h2 class="anchored" data-anchor-id="policies">Policies</h2>
</section>
<section id="generative-ai" class="level2">
<h2 class="anchored" data-anchor-id="generative-ai">Generative AI</h2>
</section>
<section id="academic-integrity-excerpt-from-course-catalog" class="level2">
<h2 class="anchored" data-anchor-id="academic-integrity-excerpt-from-course-catalog">Academic Integrity (excerpt from Course Catalog)</h2>
<p>By enrolling in an academic institution, a student is subscribing to common standards of academic honesty. Any cheating, plagiarism, falsifying or fabricating of data is a breach of such standards. A student must make it their responsibility to not use words or works of others without proper acknowledgement. Plagiarism is unacceptable and evidence of such activity is reported to the provost or their designee. Two violations of academic integrity are grounds for dismissal from the college. Students would request in-class discussions of such questions when complex issues of ethical scholarship arise.</p>
</section>
<section id="universal-learning-and-learning-in-community" class="level2">
<h2 class="anchored" data-anchor-id="universal-learning-and-learning-in-community">Universal Learning and Learning in Community</h2>
<p>Many of us learn in different ways. For example, you may process information by speaking and listening, so while lectures are quite helpful for you, some of the written material may be difficult to absorb. You might have difficulty following lectures, but are able to quickly assimilate written information. You may need to fidget to focus in class. You might take notes best when you can draw a concept. For some of you, speaking in class can be a stressful or daunting experience. For some of you, certain topics or themes might be so traumatic as to be disruptive to learning. The principle of Universal Design for Learning calls for our classrooms, our virtual spaces, our practices and our interactions to be designed to include as many different modes of learning as possible, and is a principle I take seriously in this class.</p>
<p>It is also my goal to create an inclusive classroom, which depends on community building, and which requires everyone to come to class with mutual respect, civility, and a willingness to listen to and observe others. As such the syllabus serves as a contract of some expectations between all members of the class, including myself.</p>
<p>If you anticipate or experience any barriers to learning in this course, please reach out to me and your student support advisor. If you have a disability, or think you may have a disability, COA’s Disability Support Services located within the Office of Student Life in Deering Commons to develop a plan for your academic accommodations. You can find out more information in the course catalog under <em>Accommodating students with disabilities</em>. If you have already been approved for accommodations through the Disability Support Services please let me know! We can meet 1-1 to explore concerns and potential options.</p>
<section id="late-work-extensions-and-special-circumstances" class="level3">
<h3 class="anchored" data-anchor-id="late-work-extensions-and-special-circumstances">Late work, extensions, and special circumstances</h3>
<p>All work is due within the stated due date window. Due date windows are there to help guide your pace through the course and they also allow me to return feedback to you in a timely manner.</p>
<p>You have two late passes you may use to submit work up to two days after the due date window. You should <strong>notify</strong> me before the end of the due date windown that you intend to use one of your passes.</p>
</section>
</section>
<section id="support" class="level2">
<h2 class="anchored" data-anchor-id="support">Support</h2>
<section id="title-ix" class="level3">
<h3 class="anchored" data-anchor-id="title-ix">Title IX</h3>
<p>COA is dedicated to establishing and maintaining a safe and inclusive campus where all community members have equal access to COA’s educational and employment opportunities. We strive to promote an environment of respect, safety, and well-being and will not tolerate gender-based or sexual discrimination nor sexual harassment of any kind.</p>
<p>As a faculty member, I am considered a “responsible employee” and am required to share any disclosures of sexual or gender-based misconduct with the Title IX Coordinator. This includes disclosures of experiences that happened before an individual’s time at COA. This is to ensure that all community members who have experienced sexual misconduct receive support, options, and information about their rights and resources. Community members are not obligated to respond to this outreach, and this will not generate a report to law enforcement.</p>
<p>For more information regarding Title IX, our institutional policy, and to access helpful resources, visit COA’s Title IX website: coa.edu/human-resources/title-ix.</p>
<p>If you have any questions or want to explore support and assistance, please contact COA’s Title IX Coordinator, Puranjot Kaur, at <a href="pkaur@coa.edu">pkaur@coa.edu</a>. Speaking to the Title IX Coordinator does not automatically initiate a college resolution. Instead, much of her work is around providing supportive measures to ensure you can continue to engage in COA’s programs and activities.</p>
<p><strong>Note on Pregnancy and Related Conditions</strong></p>
<p>Title IX prohibits discrimination based on sex in education programs and activities. This prohibition on discrimination extends to pregnancy and related conditions. Pregnancy and related conditions encompass pregnancy, childbirth, miscarriage, termination of pregnancy, false pregnancy, lactation, or recovery from any of these conditions.</p>
<p>Students experiencing pregnancy or related conditions may voluntarily initiate contact with the Title IX Coordinator to request reasonable adjustments available under Title IX. Reasonable adjustments may include but are not limited to: excusing student absences; allowing students to make up missed work; opportunities to move around during class; additional breaks; missing some or all of a class session to nurse or pump, and to have the opportunity to make up any work missed. Information on lactation space on campus can be found here: coa.edu/human-resources/title-ix/support-resources/lactation-space.</p>
<p>Students who believe they have been subject to discrimination because of pregnancy or related condition status may file a formal complaint with the Title IX Coordinator. If you are a pregnant or parenting student, and you are in need of any adjustments. please let me know at your earliest convenience.</p>
</section>
<section id="wellbeing" class="level3">
<h3 class="anchored" data-anchor-id="wellbeing">Wellbeing</h3>
<p>I want to make sure that you learn everything you were hoping to learn from this class. If this requires flexibility, please don’t hesitate to ask.</p>
<ul>
<li><p>You <em>never</em> owe me personal information about your health (mental or physical) but you’re always welcome to talk to me. If I can’t help, I likely know someone who can.</p></li>
<li><p>I want you to learn lots of things from this class, but I primarily want you to stay healthy, balanced, and grounded.</p></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>